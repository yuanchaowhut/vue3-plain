{
  "version": 3,
  "sources": ["../src/index.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProps.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts"],
  "sourcesContent": ["import {nodeOps} from \"./nodeOps\";\nimport {patchProp} from \"./patchProps\";\nimport {createRenderer} from \"@vue/runtime-core\";\n\n// \u4E0D\u540C\u7684\u5E73\u53F0\u7684 renderOptions \u7684\u5B9E\u73B0\u4E0D\u4E00\u6837\uFF0C\u4F46\u662F\u5177\u4F53\u6709\u4EC0\u4E48\u884C\u4E3A\u90FD\u5728 runtime-dom \u91CC\u89C4\u5B9A\u597D\u4E86\nexport const renderOptions = Object.assign(nodeOps, {patchProp});\n\n// \u8BB2\u865A\u62DFDOM\u6E32\u67D3\u51FA\u6765\nexport function render(vnode: any, container: HTMLElement) {\n    createRenderer(renderOptions).render(vnode, container);\n}\n\n// \u5C06createRenderer\u3001h \u7B49\u5BFC\u51FA\nexport * from \"@vue/runtime-core\";\n", "export const nodeOps = {\n    // \u589E\u52A0\n    createElement(tagName: string) {\n        return document.createElement(tagName);\n    },\n    createText(text: string) {\n        return document.createTextNode(text);\n    },\n    insert(child: Node, parent: Node, anchor = null) {\n        // \u5F53anchor\u4E3Anull\u65F6insertBefore\u7B49\u4EF7\u4E8E appendChild\n        parent.insertBefore(child, anchor);\n    },\n    // \u5220\u9664\n    remove(child: Node) {\n        const parentNode = child.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(child);\n        }\n    },\n    // \u4FEE\u6539\n    // \u8BBE\u7F6E\u5143\u7D20\u4E2D\u7684\u5185\u5BB9\n    setElementText(el: HTMLElement, text: string) {\n        el.textContent = text;\n    },\n    // \u8BBE\u7F6E\u6587\u672C\u8282\u70B9\n    setText(node: Node, text: string) {\n        node.nodeValue = text;\n    },\n    // \u67E5\u8BE2\n    querySelector(selector: string) {\n        return document.querySelector(selector);\n    },\n    parentNode(node: Node) {\n        return node.parentNode;\n    },\n    nextSibling(node: Node) {\n        return node.nextSibling;\n    },\n}\n", "export function patchAttr(el: HTMLElement, key: string, nextValue: any) {\n    if (nextValue) {\n        el.setAttribute(key, nextValue);\n    } else {\n        el.removeAttribute(key);\n    }\n}\n", "export function patchClass(el: HTMLElement, nextValue: any) {\n    if (nextValue === null) {\n        el.removeAttribute(\"class\");\n    } else {\n        el.className = nextValue;\n    }\n}\n", "import {FuncType} from \"@vue/shared\";\n\nfunction createInvoker(callback: FuncType) {\n    const invoker = (e: any) => invoker.value(e);\n    invoker.value = callback;\n    return invoker;\n}\n\nexport function patchEvent(el: HTMLElement, eventName: string, nextValue: any) {\n    // \u53EF\u4EE5\u5148\u79FB\u9664\u6389\u4E8B\u4EF6\uFF0C\u518D\u91CD\u65B0\u7ED1\u5B9A\n    let invokers = el._vei || (el.vei = {});\n    let exist = invokers[eventName];\n\n    if (exist) {\n        if (nextValue) {\n            invokers[eventName].value = nextValue;\n        } else {\n            el.removeEventListener(eventName.slice(2).toLowerCase(), exist);\n            invokers[eventName] = undefined;\n        }\n    } else {\n        let event = eventName.slice(2).toLowerCase();  // onClick => click\n        if (nextValue) {\n            const invoker = invokers[eventName] = createInvoker(nextValue);\n            el.addEventListener(event, invoker);\n        }\n    }\n}\n", "export function patchStyle(el: HTMLElement, prevValue: any, nextValue: any) {\n    // \u6837\u5F0F\u9700\u8981\u6BD4\u5BF9\u5DEE\u5F02 {color: 'red', fontSize: '16px'}  {color: 'blue'}\n    for (let key in nextValue) {\n        // @ts-ignore\n        el.style[key] = nextValue[key];\n    }\n    if (prevValue) {\n        for (let key in prevValue) {\n            if (nextValue[key] === null) {\n                // @ts-ignore\n                el.style[key] = null;\n            }\n        }\n    }\n}\n", "import {patchAttr} from \"./modules/attr\";\nimport {patchClass} from \"./modules/class\";\nimport {patchEvent} from \"./modules/event\";\nimport {patchStyle} from \"./modules/style\";\n\n\n// \u64CD\u4F5CDOM\u5C5E\u6027\nexport function patchProp(el: HTMLElement, key: string, prevValue: any, nextValue: any) {\n    if (key === \"class\") { // \u7C7B\u540D el.className\n        patchClass(el, nextValue);\n    } else if (key === \"style\") { // \u6837\u5F0F el.style\n        patchStyle(el, prevValue, nextValue);\n    } else if (/^on[^a-z]/.test(key)) { // events: onclick\n        patchEvent(el, key, nextValue);\n    } else { // \u666E\u901A\u5C5E\u6027\n        patchAttr(el, key, nextValue);\n    }\n}\n", "// \u4E0D\u540C\u7684\u5E73\u53F0\u7684 renderOptions \u7684\u5B9E\u73B0\u4E0D\u4E00\u6837\uFF0C\u4F46\u662F\u5177\u4F53\u6709\u4EC0\u4E48\u884C\u4E3A\u90FD\u5728 runtime-dom \u91CC\u89C4\u5B9A\u597D\u4E86\nimport {renderOptions} from \"@vue/runtime-dom\";\n\nexport function createRenderer(renderOptions: any) {\n    return {\n        render: function (vnode: any, container: HTMLElement) {\n        }\n    }\n}\n", "export function h() {\n}\n"],
  "mappings": "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",
  "names": []
}
