{
  "version": 3,
  "sources": ["../src/index.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProps.ts", "../../shared/src/index.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/sequence.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/reactive.ts", "../../runtime-core/src/scheduler.ts", "../../runtime-core/src/componentProps.ts", "../../runtime-core/src/component.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts"],
  "sourcesContent": ["import {nodeOps} from \"./nodeOps\";\nimport {patchProp} from \"./patchProps\";\nimport {createRenderer} from \"@vue/runtime-core\";\n\n// \u4E0D\u540C\u7684\u5E73\u53F0\u7684 renderOptions \u7684\u5B9E\u73B0\u4E0D\u4E00\u6837\uFF0C\u4F46\u662F\u5177\u4F53\u6709\u4EC0\u4E48\u884C\u4E3A\u90FD\u5728 runtime-dom \u91CC\u89C4\u5B9A\u597D\u4E86\nexport const renderOptions = Object.assign(nodeOps, {patchProp});\n\n// \u5C06\u865A\u62DFDOM\u6E32\u67D3\u51FA\u6765\nexport function render(vnode: any, container: HTMLElement) {\n    createRenderer(renderOptions).render(vnode, container);\n}\n\n// \u5C06createRenderer\u3001h\u3001Text \u7B49\u5BFC\u51FA\nexport * from \"@vue/runtime-core\";\n", "export const nodeOps = {\n    // \u589E\u52A0\n    createElement(tagName: string) {\n        return document.createElement(tagName);\n    },\n    createText(text: string) {\n        return document.createTextNode(text);\n    },\n    insert(child: Node, parent: Node, anchor = null) {\n        // \u5F53anchor\u4E3Anull\u65F6insertBefore\u7B49\u4EF7\u4E8E appendChild\n        parent.insertBefore(child, anchor);\n    },\n    // \u5220\u9664\n    remove(child: Node) {\n        const parentNode = child.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(child);\n        }\n    },\n    // \u4FEE\u6539\n    // \u8BBE\u7F6E\u5143\u7D20\u4E2D\u7684\u5185\u5BB9\n    setElementText(el: HTMLElement, text: string) {\n        el.textContent = text;\n    },\n    // \u8BBE\u7F6E\u6587\u672C\u8282\u70B9\n    setText(node: Node, text: string) {\n        node.nodeValue = text;\n    },\n    // \u67E5\u8BE2\n    querySelector(selector: string) {\n        return document.querySelector(selector);\n    },\n    parentNode(node: Node) {\n        return node.parentNode;\n    },\n    nextSibling(node: Node) {\n        return node.nextSibling;\n    },\n}\n", "export function patchAttr(el: HTMLElement, key: string, nextValue: any) {\n    if (nextValue) {\n        el.setAttribute(key, nextValue);\n    } else {\n        el.removeAttribute(key);\n    }\n}\n", "export function patchClass(el: HTMLElement, nextValue: any) {\n    if (nextValue === null) {\n        el.removeAttribute(\"class\");\n    } else {\n        el.className = nextValue;\n    }\n}\n", "import {FuncType} from \"@vue/shared\";\n\nfunction createInvoker(callback: FuncType) {\n    const invoker = (e: any) => invoker.value(e);\n    invoker.value = callback;\n    return invoker;\n}\n\n/**\n *\n * @param el\n * @param eventName eg\uFF1AonClick\n * @param nextValue () => {}\n */\nexport function patchEvent(el: HTMLElement, eventName: string, nextValue: any) {\n    // vei\uFF1Avnode event invoker\n    let invokers = el._vei || (el.vei = {});\n    let exist = invokers[eventName];\n    if (exist) {\n        // \u4E4B\u524D\u7ED1\u5B9A\u8FC7\u8BE5\u4E8B\u4EF6\n        if (nextValue) {\n            invokers[eventName].value = nextValue;\n        } else {\n            el.removeEventListener(eventName.slice(2).toLowerCase(), exist);\n            invokers[eventName] = undefined;\n        }\n    } else {\n        // \u4E4B\u524D\u6CA1\u7ED1\u5B9A\u8FC7\u8BE5\u4E8B\u4EF6\n        let event = eventName.slice(2).toLowerCase();  // onClick => click\n        if (nextValue) {\n            const invoker = invokers[eventName] = createInvoker(nextValue);\n            el.addEventListener(event, invoker);\n            el._vei = invokers;\n        }\n    }\n}\n", "export function patchStyle(el: HTMLElement, prevValue: any, nextValue: any = {}) {\n    // \u6837\u5F0F\u9700\u8981\u6BD4\u5BF9\u5DEE\u5F02 {color: 'red', fontSize: '16px'}  {color: 'blue'}\n    for (let key in nextValue) {\n        // @ts-ignore\n        el.style[key] = nextValue[key];\n    }\n    if (prevValue) {\n        for (let key in prevValue) {\n            if (nextValue[key] === undefined || nextValue[key] === null) {\n                // @ts-ignore\n                el.style[key] = null;\n            }\n        }\n    }\n}\n", "import {patchAttr} from \"./modules/attr\";\nimport {patchClass} from \"./modules/class\";\nimport {patchEvent} from \"./modules/event\";\nimport {patchStyle} from \"./modules/style\";\n\n\n// \u64CD\u4F5CDOM\u5C5E\u6027\nexport function patchProp(el: HTMLElement, key: string, prevValue: any, nextValue: any) {\n    if (key === \"class\") { // \u7C7B\u540D el.className\n        patchClass(el, nextValue);\n    } else if (key === \"style\") { // \u6837\u5F0F el.style\n        patchStyle(el, prevValue, nextValue);\n    } else if (/^on[^a-z]/.test(key)) { // events: onclick\n        patchEvent(el, key, nextValue);\n    } else { // \u666E\u901A\u5C5E\u6027\n        patchAttr(el, key, nextValue);\n    }\n}\n", "export const isString = (value: any) => {\n    return typeof value === \"string\";\n}\n\nexport const isNumber = (value: any) => {\n    return typeof value === \"number\";\n}\n\nexport const isBoolean = (value: any) => {\n    return typeof value === \"boolean\";\n}\n\nexport const isObject = (value: any) => {\n    return typeof value === \"object\" && value !== null;\n}\n\nexport const isPlainObject = (value: any) => {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n\nexport const isFunction = (value: any) => {\n    return typeof value === \"function\";\n}\n\nexport const isArray = Array.isArray;\n\nexport const assign = Object.assign;\n\nexport const hasOwnProperty = Object.prototype.hasOwnProperty;\nexport const hasOwn = (target: any, key: any) => hasOwnProperty.call(target, key);\n\n// Vue3\u63D0\u4F9B\u7684\u5F62\u72B6\u6807\u8BC6\nexport const enum ShapeFlags {\n    ELEMENT = 1,                                 // 2\u76840\u6B21\u65B9\n    FUNCTIONAL_COMPONENT = 1 << 1,               // 2\u76841\u6B21\u65B9\n    STATEFULL_COMPONENT = 1 << 2,                // 2\u76842\u6B21\u65B9\n    TEXT_CHILDREN = 1 << 3,                      // 2\u76843\u6B21\u65B9\n    ARRAY_CHILDREN = 1 << 4,\n    SLOTS_CHILDREN = 1 << 5,\n    TELEPORT_CHILDREN = 1 << 6,\n    SUSPENSE = 1 << 7,\n    COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8,\n    COMPONENT_KEEP_ALIVE = 1 << 9,               // 2\u76849\u6B21\u65B9\n    COMPONENT = ShapeFlags.STATEFULL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT   // 2 | 4 = 6 -> [0100 | 1000 = 1100]\n}\n\n// \u901A\u7528\u51FD\u6570\u7C7B\u578B\nexport type FuncType = (...args: any) => any\n\n", "import {isArray, isObject, isString, ShapeFlags} from \"@vue/shared\";\n\n// \u8868\u793A\u6587\u672C\u8282\u70B9\u7C7B\u578B\uFF0C\u4F8B\u5982\uFF1Arender(h(Text, \"hello\"));\nexport const Text = Symbol(\"Text\");\n// Fragment\u7C7B\u578B\nexport const Fragment = Symbol(\"Fragment\");\n\n/**\n * \u5224\u65AD\u662F\u5426\u4E3A\u865A\u62DFDOM\u8282\u70B9\n * @param value\n */\nexport function isVnode(value: any) {\n    return !!(value && value.__v_isVnode)\n}\n\n/**\n * \u5224\u65AD\u4E24\u4E2A\u865A\u62DF\u8282\u70B9\u662F\u4E0D\u662F\u540C\u4E00\u4E2A\u8282\u70B9\uFF0C\u65B9\u6CD5\u662F\uFF1A1.\u6807\u7B7E\u540D\u76F8\u540C\uFF1B2.key\u662F\u4E00\u6837\n * @param n1\n * @param n2\n */\nexport function isSameVnode(n1: any, n2: any) {\n    return n1.type === n2.type && n1.key === n2.key;\n}\n\n/**\n * \u521B\u5EFAVNode\n * @param type  \u7EC4\u4EF6\u7684\u3001\u5143\u7D20\u7684\u3001\u6587\u672C\u7684\n * @param props\n * @param children\n */\nexport function createVnode(type: any, props: any, children: any = null) {\n    // \u7528shapeFlag\u8868\u793A\u7EC4\u5408\u65B9\u6848\uFF0C\u5982\uFF1A9=\u5143\u7D20+\u6587\u672C\u8282\u70B9, 17=\u5143\u7D20+ARRAY_CHILDREN\n    let shapeFlag = isString(type) ? ShapeFlags.ELEMENT : isObject(type) ? ShapeFlags.STATEFULL_COMPONENT : 0;\n\n    // \u865A\u62DFDOM\u5C31\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0Cdiff\u7B97\u6CD5\u3002\u771F\u5B9EDOM\u7684\u5C5E\u6027\u6BD4\u8F83\u591A\n    const vnode: Record<string, any> = {\n        type,\n        props,\n        children,\n        el: null, // \u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\uFF0C\u540E\u7EEDdiff\u7B97\u6CD5\u5B8C\u6210\u540E\u6E32\u67D3\u771F\u5B9EDOM\u8981\u7528\u5230\n        key: props?.key,\n        __v_isVnode: true,\n        shapeFlag\n    };\n    if (children) {\n        let type = 0;\n        if (isArray(children)) {\n            type = ShapeFlags.ARRAY_CHILDREN;\n        } else {\n            vnode.children = String(children); // \u6587\u672C\u8282\u70B9\n            type = ShapeFlags.TEXT_CHILDREN;\n        }\n        vnode.shapeFlag |= type;  // \u5143\u7D20\u672C\u8EAB\u7684type | children\u7684type = \u7EC4\u5408\uFF0C\u540E\u9762\u4F7F\u7528\u7684\u5730\u65B9\u53EF\u4EE5\u89E3\u6790\u51FA\u6765\n    }\n\n    return vnode;\n}\n", "// \u6C42\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7684\u4E2A\u6570\n\n// 3 2 8 9 5 6 7 11 15\n\n// \u9012\u589E\u5B50\u5E8F\u52171\uFF1A2 8 9 11 15\n// \u9012\u589E\u5B50\u5E8F\u52172\uFF1A2 5 6 7 11 15\n// \u6240\u4EE5\u6700\u957F\u7684\u662F\u5E8F\u52172\n\n// \u67E5\u627E\u8FC7\u7A0B\uFF1A\n// 3\n// 2\n// 2 8\n// 2 8 9\n// 2 5 9\n// 2 5 6\n// 2 5 6 7\n// 2 5 6 7 11\n// 2 5 6 7 11 15\n\n// \u603B\u7ED3\u601D\u8DEF\uFF1A\u4F9D\u6B21\u904D\u5386\u539F\u6765\u7684\u4E71\u5E8F\u961F\u5217\n// 1.\u5982\u679C\u5F53\u524D\u6B63\u5728\u904D\u5386\u7684\u5143\u7D20\u6BD4\u5DF2\u6709\u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u5927\uFF0C\u5219\u76F4\u63A5\u8FFD\u52A0\u5230\u5DF2\u6709\u9012\u589E\u5E8F\u5217\u672B\u5C3E\uFF1B\n// 2.\u5982\u679C\u5F53\u524D\u6B63\u5728\u904D\u5386\u7684\u5143\u7D20\u6BD4\u5DF2\u6709\u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u5C0F\uFF0C\u5219\u901A\u8FC7\u4E8C\u5206\u67E5\u627E\u627E\u5230\u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u6BD4\u5F53\u524D\u5143\u7D20\u5927\u7684\u90A3\u4E2A\u5143\u7D20\uFF0C\u7528\u5F53\u524D\u5143\u7D20\u66FF\u6362\u6389\u5B83\u3002\n// 3.\u6700\u4F18\u7684\u60C5\u51B5\u5C31\u662F\u9ED8\u8BA4\u5168\u90E8\u9012\u589E.\n\nexport function getSequence(arr: Array<number>) {\n    const len = arr.length;\n    // \u6CE8\u610F\uFF1Aresult \u4E2D\u5B58\u50A8\u7684\u662Farr\u7684\u7D22\u5F15\u800C\u4E0D\u662F\u5177\u4F53\u7684\u503C\u3002\u9012\u589E\u5B50\u5E8F\u5217\u9ED8\u8BA4\u4ECEarr\u7684\u7B2C0\u9879\u5F00\u59CB\u3002\n    const result = [0];\n    // \u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u5728\u539F\u5E8F\u5217\u4E2D\u7684\u7D22\u5F15\u503C\uFF0C\u9ED8\u8BA4\u4E5F\u662F0.\n    let resultLastIndex = 0;\n    // p\u7528\u4E8E\u5728\u904D\u5386\u539F\u6570\u7EC4\u65F6\uFF0C\u8BB0\u5F55\u539F\u6570\u7EC4\u4E2D\u5143\u7D20\u7684\u7D22\u5F15\uFF0C\u6240\u4EE5\u8981\u548C\u539F\u6570\u7EC4\u957F\u5EA6\u4FDD\u6301\u4E00\u81F4.\n    let p = new Array(arr.length).fill(undefined);\n    let start;\n    let end;\n    let middle;\n    for (let i = 0; i < len; i++) {\n        let current = arr[i];\n        // \u5FFD\u75650\uFF0C\u56E0\u4E3Adiff\u7B97\u6CD5\u4E2D0\u8868\u793A\u6CA1\u6709\u5BF9\u6BD4\u8FC7\uFF0C\u662F\u65B0\u52A0\u5165\u7684\u5143\u7D20\uFF0C\u8981\u521B\u5EFA\u3002\n        if (current !== 0) {\n            resultLastIndex = result[result.length - 1]; // result\u4E2D\u7684\u503C\u5BF9\u5E94\u7684\u662Farr\u4E2D\u7684\u7D22\u5F15\n            if (arr[resultLastIndex] < current) {\n                // \u5982\u679C\u9012\u589E\u5B50\u5E8F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20(\u5176\u5B9E\u5BF9\u5E94\u7684\u662Farr\u4E2D\u67D0\u4E2A\u5143\u7D20\u7684\u7D22\u5F15)\uFF0C\u5B83\u5BF9\u5E94\u5728arr\u4E2D\u7684\u503C\uFF0C\n                // \u6BD4\u5F53\u524D\u6B63\u5728\u904D\u5386\u7684\u5143\u7D20\u5C0F\uFF0C\u5219\u76F4\u63A5\u8FFD\u52A0\u5F53\u524D\u6B63\u5728\u904D\u5386\u5143\u7D20\u7684\u7D22\u5F15\u8FDB\u9012\u589E\u5B50\u5E8F\u5217.\n                result.push(i);\n                p[i] = resultLastIndex;  // \u5143\u7D20i\u653E\u8FDB\u53BB\u540E\u8981\u8BB0\u5F97\u8BB0\u5F55\u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u5B83\u4E4B\u524D\u7684\u5143\u7D20\u7684\u7D22\u5F15\n            } else {\n                // \u5982\u679C\u9012\u589E\u5B50\u5E8F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20(\u5176\u5B9E\u5BF9\u5E94\u7684\u662Farr\u4E2D\u67D0\u4E2A\u5143\u7D20\u7684\u7D22\u5F15)\uFF0C\u5B83\u5BF9\u5E94\u5728arr\u4E2D\u7684\u503C\uFF0C\n                // \u6BD4\u5F53\u524D\u6B63\u5728\u904D\u5386\u7684\u5143\u7D20\u5927\uFF0C\u5219\u4E8C\u5206\u67E5\u627E\u9012\u589E\u5B50\u5E8F\u5217\uFF0C\u627E\u5230\u6BD4\u5B83\u5927\u7684\u6700\u5C0F\u7684\u7D22\u5F15\u3002\n                start = 0;\n                end = result.length - 1;\n                while (start < end) {\n                    middle = ((start + end) / 2) | 0;\n                    if (arr[result[middle]] < current) {\n                        start = middle + 1;\n                    } else {\n                        end = middle;\n                    }\n                }\n                // \u7528\u5F53\u524D\u6B63\u5728\u904D\u5386\u7684arr\u5143\u7D20\u7684\u7D22\u5F15\uFF0C\u66FF\u6362\u6389\u627E\u5230\u7684result\u4E2D\u7684\u5143\u7D20\u3002\n                if (arr[result[end]] > current) {\n                    result[end] = i;\n                    // p\u4E2D\u5B58\u7684\u662Farr\u7684\u7D22\u5F15\uFF0C\u5BF9\u5E94\u4E0Eresult\u6570\u7EC4\u91CC\u5143\u7D20\u7684\u503C\uFF0Cend-1\u8868\u793A\u88AB\u66FF\u6362\u4F4D\u7F6E\u7684\u4E0A\u4E00\u4E2A\u4F4D\u7F6E.\n                    p[i] = result[end - 1];\n                }\n            }\n        }\n    }\n\n    // \u5012\u53D9\u8FFD\u6EAF\n    // console.log(\"result: \", result);\n    // console.log(\"p: \", p);\n    let i = result.length - 1;\n    let last = result[i];  // last\u5728result\u4E2D\u662F\u503C\uFF0C\u4F46\u5728arr\u3001p\u4E2D\u4EE3\u8868\u7684\u662F\u7D22\u5F15\n    while (i >= 0) {\n        result[i] = last;\n        last = p[last];  // p[last] \u8868\u793A\u7684\u662Farr\u4E2D\u7B2Clast\u53F7\u4F4D\u5143\u7D20\u8BB0\u5F55\u7684\u524D\u4E00\u4E2A\u5143\u7D20\u7684\u7D22\u5F15\n        i--;\n    }\n\n    return result;\n}\n\n\n// =======================\u6D4B\u8BD5\u7528\u4F8B==============================\n// let arr = [3, 2, 8, 9, 5, 6, 7, 11, 15];\n// let arr = [2, 3, 1, 5, 6, 8, 7, 9, 4];\n// let result = getSequence(arr);\n// console.log(\"==========result\u7ED3\u679C================\")\n// console.log(result);\n//\n// console.log(\"==========\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7ED3\u679C================\")\n// let str = \"[\";\n// for (let i = 0; i < result.length; i++) {\n//     str += arr[result[i]] + \" \"\n// }\n// console.log(str + \"]\");\n\n", "export let activeEffect = undefined;\n\nfunction cleanupEffect(effect) {\n    // activeEffect.deps -> [(name->Set), (age->Set)]\n    const {deps} = effect;\n\n    // \u904D\u5386\u6BCF\u4E2ASet\uFF0C\u5728Set\u4E2D\u5220\u9664\u5F53\u524D\u8FD9\u4E2Aeffect.\n    for (let i = 0; i < deps.length; i++) {\n        //\u89E3\u9664\u4F9D\u8D56\uFF0C\u91CD\u505A\u4F9D\u8D56\u6536\u96C6\u3002set.delete(e)\uFF0C\u5220\u9664\u7531\u5176\u503C\u6307\u5B9A\u7684\u5143\u7D20\u3002\n        deps[i].delete(effect);\n    }\n    effect.deps.length = 0;\n}\n\nexport class ReactiveEffect {\n    // effect\u9ED8\u8BA4\u662F\u6FC0\u6D3B\u72B6\u6001\n    public active = true;\n    public fn = null;\n    // \u589E\u52A0parent\u5C5E\u6027\u89E3\u51B3effect\u5D4C\u5957\u95EE\u9898\n    public parent = null;\n    // effect\u8BB0\u5F55\u5B83\u88AB\u54EA\u4E9B\u5C5E\u6027\u6536\u96C6\u8FC7\n    public deps = [];\n    // \u8C03\u5EA6\u5668\n    public scheduler = null;\n\n    constructor(fn, scheduler?) {\n        this.fn = fn;\n        this.scheduler = scheduler;\n    }\n\n    run() {\n        // \u5982\u679C\u662F\u975E\u6FC0\u6D3B\u7684\u72B6\u6001\uFF0C\u53EA\u9700\u8981\u6267\u884C\u51FD\u6570\uFF0C\u4E0D\u9700\u8981\u4F9D\u8D56\u6536\u96C6\n        if (!this.active) {\n            return this.fn();\n        }\n        try {\n            this.parent = activeEffect;\n            // \u8FD9\u91CC\u4F9D\u8D56\u6536\u96C6\uFF0C\u6838\u5FC3\u5C31\u662F\u5C06\u5F53\u524D\u7684 effect \u548C\u7A0D\u540E\u6E32\u67D3\u7684\u5C5E\u6027\u5173\u8054\u5728\u4E00\u8D77\n            activeEffect = this;\n            // \u5148\u6E05\u7A7A\u6240\u6709\n            cleanupEffect(this);\n            // \u6267\u884Cthis.fn()\u7684\u65F6\u5019\u4F1A\u4F7F\u7528state.name\u3001state.age\u7B49\uFF0C\u4F1A\u8C03\u7528\u53D6\u503C\u64CD\u4F5Cget\uFF0C\u5728get\u5185\u90E8\u5C31\u53EF\u4EE5\u83B7\u53D6\u5230\u5168\u5C40\u7684activeEffect\uFF0C\n            // \u5728get\u91CC\u8FB9\u5C31\u53EF\u4EE5\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\uFF0C\u5C06fn\u4E2D\u4F7F\u7528\u5230\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u4E0EactiveEffect\u5173\u8054\u8D77\u6765\u3002\n            return this.fn();\n        } catch (e) {\n            console.log(e);\n        } finally {\n            activeEffect = this.parent;\n            this.parent = null;\n        }\n    }\n\n    stop() {\n        if (this.active) {\n            this.active = false;\n            cleanupEffect(this);\n        }\n    }\n}\n\n// fn \u53EF\u4EE5\u6839\u636E\u72B6\u6001\u53D8\u5316\u91CD\u65B0\u6267\u884C, effect\u53EF\u4EE5\u5D4C\u5957\u7740\u5199\nexport function effect(fn, options: any = {}) {\n    // \u521B\u5EFA\u54CD\u5E94\u5F0F effect.\n    const _effect = new ReactiveEffect(fn, options.scheduler);\n    // \u9ED8\u8BA4\u5148\u6267\u884C\u4E00\u6B21\n    _effect.run();\n    // \u5982\u679C\u4E0D\u4F7F\u7528bind\u5219\u5C06\u6765\u6267\u884Crunner() \u65F6\uFF0C\u91CC\u8FB9\u7684this\u5C31\u662Fwindow\u3002\n    const runner = _effect.run.bind(_effect);\n    // \u5C06_effect\u6302\u5728runner\u4E0A\n    runner.effect = _effect;\n    return runner;\n}\n\n// \u7528\u4E8E\u505A\u4F9D\u8D56\u6536\u96C6\uFF0C\u4E00\u4E2Aeffect\u53EF\u4EE5\u5BF9\u5E94\u591A\u4E2A\u5C5E\u6027\uFF0C\u4E00\u4E2A\u5C5E\u6027\u4E5F\u53EF\u4EE5\u5BF9\u5E94\u591A\u4E2Aeffect\nconst targetMap = new WeakMap();\n\nexport function track(target, type, key) {\n    // \u6536\u96C6\u4F9D\u8D56. \u5BF9\u8C61 \u67D0\u4E2A\u5C5E\u6027 -> \u591A\u4E2Aeffect.\n    // WeakMap = {target: Map:{key: Set}}\u3002WeakMap\u7684key\u5FC5\u987B\u662F\u5BF9\u8C61\uFF0CSet\u53EF\u4EE5\u53BB\u91CD\u3002\n    if (!activeEffect) return;\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n        targetMap.set(target, (depsMap = new Map()));\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n        depsMap.set(key, (dep = new Set()));\n    }\n\n    trackEffects(dep);\n}\n\nexport function trackEffects(dep: Set<any>) {\n    if (!activeEffect) return;\n    const shouldTrack = !dep.has(activeEffect);\n    if (shouldTrack) {\n        dep.add(activeEffect);\n        // \u5355\u5411\u8BB0\u5F55\u6307\u7684\u662F\u5C5E\u6027\u8BB0\u5F55\u4E86effect\uFF0C\u53CD\u5411\u8BB0\u5F55\u5E94\u8BE5\u8BA9effect\u4E5F\u8BB0\u5F55\u5B83\u88AB\u54EA\u4E9B\u5C5E\u6027\u6536\u96C6\u8FC7\uFF0C\u8FD9\u6837\u505A\u7684\u597D\u5904\u662F\u65B9\u4FBF\u6E05\u7406\u3002\n        // dep\u91CC\u6709activeEffect,activeEffect\u7684deps\u5C5E\u6027\u91CC\u4E5F\u6709dep\uFF0C\u4E92\u76F8\u8BB0\u5F55.\n        // activeEffect.deps -> [(name->Set), (age->Set)]\n        activeEffect.deps.push(dep);\n    }\n}\n\nexport function trigger(target, type, key, value, oldValue) {\n    const depsMap = targetMap.get(target);\n    if (!depsMap) return;\n    let effects = depsMap.get(key);\n    if (effects && effects.size > 0) {\n        triggerEffects(effects);\n    }\n}\n\nexport function triggerEffects(effects) {\n    // \u62F7\u8D1D\u4E00\u4EFD\uFF0C\u65B0effects\u548C\u539F\u6765\u7684effects\u5185\u5B58\u5730\u5740\u5DF2\u7ECF\u4E0D\u540C\uFF0C\u4F46\u662F\u91CC\u8FB9\u4E00\u4E2A\u4E00\u4E2A\u7684effect\u5143\u7D20\u7684\u6307\u5411\u8FD8\u662F\u4FDD\u6301\u4E00\u81F4\u3002\n    effects = new Set(effects);\n    effects.forEach(effect => {\n        if (effect !== activeEffect) {\n            // \u5982\u679C\u7528\u6237\u4F20\u5165\u4E86\u8C03\u5EA6\u51FD\u6570\uFF0C\u5219\u7528\u6267\u884C\u8C03\u5EA6\u51FD\u6570\uFF0C\u5426\u5219\u9ED8\u8BA4\u6267\u884C\n            if (effect.scheduler) {\n                effect.scheduler();\n            } else {\n                effect.run();\n            }\n        }\n    });\n}\n", "import {track, trigger} from \"./effect\"\nimport {isObject} from \"@vue/shared\";\nimport {reactive} from \"./reactive\";\n\nexport const enum ReactiveFlags {\n    IS_REACTIVE = \"__v_isReactive\"\n}\n\nexport const mutableHandlers = {\n    get(target, key, receiver) {\n        if (key === ReactiveFlags.IS_REACTIVE) {\n            return true\n        }\n        // \u6536\u96C6\u4F9D\u8D56.\n        track(target, \"get\", key);\n\n        // Reflect \u4FDD\u8BC1this\u6307\u5411\u7684\u662Fproxy\u5BF9\u8C61\n        let res = Reflect.get(target, key, receiver);\n\n        // \u5982\u679C res \u662F\u5BF9\u8C61\uFF0C\u5219\u54CD\u5E94\u5F0F\u5904\u7406\u4E00\u4E0B\u3002\n        if (isObject(res)) {\n            return reactive(res);\n        }\n        return res;\n    },\n    set(target, key, value, receiver) {\n        // \u8FD9\u91CC\u53EF\u4EE5\u76D1\u63A7\u5230\u7528\u6237\u8BBE\u7F6E\u503C\u4E86\n        let oldValue = target[key];\n        let result = Reflect.set(target, key, value, receiver);\n        if (oldValue !== value) {\n            //\u8981\u66F4\u65B0\n            trigger(target, \"set\", key, value, oldValue);\n        }\n        return result;\n    }\n}\n", "import {isObject} from \"@vue/shared\";\nimport {ReactiveFlags, mutableHandlers} from \"./baseHandler\";\n\n// \u7528\u4E8E\u7F13\u5B58\u539F\u5BF9\u8C61\u548C\u4EE3\u7406\u5BF9\u8C61\u7684\u6620\u5C04\u5173\u7CFB\uFF0C\u6CE8\u610F\uFF0CWeakMap\u7684key\u53EA\u80FD\u662F\u5BF9\u8C61\u3002\nconst reactiveMap = new WeakMap();\n\nexport function isReactive(target: any) {\n    return !!(target && target[ReactiveFlags.IS_REACTIVE])\n}\n\n/**\n * 1.\u5B9E\u73B0\u540C\u4E00\u4E2A\u5BF9\u8C61\u4EE3\u7406\u591A\u6B21\uFF0C\u8FD4\u56DE\u540C\u4E00\u4E2A\u4EE3\u7406\u5BF9\u8C61\n * 2.\u5B9E\u73B0\u4EE3\u7406\u5BF9\u8C61\u88AB\u518D\u6B21\u4EE3\u7406\uFF0C\u8FD4\u56DE\u539F\u6765\u7684\u4EE3\u7406\u5BF9\u8C61\n * @param target\n */\nexport function reactive(target: any) {\n    if (!isObject(target)) {\n        return;\n    }\n\n    // \u7B2C\u4E00\u6B21\u666E\u901A\u5BF9\u8C61\u4EE3\u7406\uFF0C\u6211\u4EEC\u4F1A\u901A\u8FC7new Proxy \u4EE3\u7406\u4E00\u6B21\uFF0C\u4E0B\u4E00\u6B21\u4F60\u4F20\u9012\u7684\u5982\u679C\u672C\u8EAB\u5C31\u662FProxy\u5C31\u4E0D\u9700\u8981\u518Dnew Proxy\u4E86\u3002\n    if (target[ReactiveFlags.IS_REACTIVE]) {\n        return target;\n    }\n\n    // \u5B9E\u73B0\u540C\u4E00\u4E2A\u5BF9\u8C61\u4EE3\u7406\u591A\u6B21\uFF0C\u8FD4\u56DE\u540C\u4E00\u4E2A\u4EE3\u7406\u5BF9\u8C61\n    let existingProxy = reactiveMap.get(target);\n    if (existingProxy) {\n        return existingProxy;\n    }\n\n    // \u5E76\u6CA1\u6709\u91CD\u65B0\u5B9A\u4E49\u5C5E\u6027\uFF0C\u53EA\u662F\u4EE3\u7406\uFF0C\u5728\u53D6\u503C\u7684\u65F6\u5019\u8C03\u7528get\uFF0C\u5F53\u8D4B\u503C\u65F6\u4F1A\u8C03\u7528set.\n    const proxy = new Proxy(target, mutableHandlers);\n    // \u7F13\u5B58\n    reactiveMap.set(target, proxy);\n\n    return proxy;\n}\n", "import {FuncType} from \"@vue/shared\";\n\nconst queue: Array<FuncType> = [];\nlet isFlushing = false;\n\nconst resolvePromise = Promise.resolve();\n\nexport function queueJob(job: FuncType) {\n    if (!queue.includes(job)) {\n        queue.push(job);\n    }\n    if (!isFlushing) {\n        isFlushing = true;\n        resolvePromise.then(() => {\n            isFlushing = false;\n            let copy = queue.slice(0);\n            queue.length = 0;\n            for (let i = 0; i < copy.length; i++) {\n                let job = copy[i];\n                job();\n            }\n            copy.length = 0;\n        })\n    }\n}\n\n\n\n\n", "// propsOptions: \u7EC4\u4EF6\u5185\u90E8\u58F0\u660E\u63A5\u6536\u7684\u5C5E\u6027\n// props/rawProps: \u7528\u6237\u4F20\u7684\u865A\u62DF\u8282\u70B9\u4E0A\u7684\u5C5E\u6027\n// attrs: \u7528\u6237\u4F20\u4E86\u4F46\u662F\u7EC4\u4EF6\u5185\u90E8\u6CA1\u6709\u58F0\u660E\u7684\u5C5E\u6027\nimport {hasOwn} from \"@vue/shared\";\nimport {reactive} from \"@vue/reactivity\";\n\nexport const initProps = (instance: any, rawProps: any) => {\n    const props = ({} as any);\n    const attrs = ({} as any);\n    // \u7EC4\u4EF6\u5185\u90E8\u58F0\u660E\u7684\u5C5E\u6027\n    const options = instance.propsOptions || {};\n\n    if (rawProps) {\n        for (let key in rawProps) {\n            const value = rawProps[key];\n            if (hasOwn(options, key)) {\n                props[key] = value;\n            } else {\n                attrs[key] = value;\n            }\n        }\n    }\n\n    // \u6E90\u7801\uFF1Ainstance.props = shallowReactive(props);\n    // \u6E90\u7801props\u53EA\u652F\u6301\u6D45\u5C42\u6B21\u54CD\u5E94\u5F0F\uFF0C\u539F\u56E0\u662F\u4E0D\u5E0C\u671B\u7EC4\u4EF6\u5185\u90E8\u6539props\u89E6\u53D1\u66F4\u65B0\uFF0C\n    // \u4F46\u662F\u6211\u4EEC\u6CA1\u6709\u5B9E\u73B0 shallowReactive,\u6545\u8FD9\u91CC\u4F7F\u7528 reactive \u4EE3\u66FF\u3002\n    instance.props = reactive(props);\n    instance.attrs = reactive(attrs);\n}\n\nexport const hasPropsChange = (prevProps: any = {}, nextProps: any = {}) => {\n    const nextKeys = Object.keys(nextProps);\n    // \u6BD4\u5BF9\u5C5E\u6027\u4E2A\u6570\u662F\u5426\u4E00\u81F4\n    if (nextKeys.length !== Object.keys(prevProps).length) {\n        return true;\n    }\n    // \u6BD4\u5BF9\u5C5E\u6027\u503C\u662F\u5426\u76F8\u540C\n    for (let i = 0; i < nextKeys.length; i++) {\n        const key = nextKeys[i];\n        if (nextProps[key] !== prevProps[key]) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport const updateProps = (prevProps: any, nextProps: any) => {\n    for (let key in nextProps) {\n        // \u7531\u4E8Einstance.props\u662F\u54CD\u5E94\u5F0F\u7684(instance.props = reactive(props);)\uFF0C\u6545\u4FEE\u6539key\u80FD\u89E6\u53D1\u66F4\u65B0\u3002\n        prevProps[key] = nextProps[key];\n    }\n    // \u8003\u8651\u5C5E\u6027\u4E2A\u6570\u51CF\u5C11\u7684\u60C5\u51B5\n    for (let key in prevProps) {\n        if (!hasOwn(nextProps, key)) {\n            delete prevProps[key];\n        }\n    }\n}\n", "import {reactive} from \"@vue/reactivity\";\nimport {initProps} from \"./componentProps\";\nimport {hasOwn, isFunction} from \"@vue/shared\";\n\nexport function createComponentInstance(vnode: any) {\n    // \u7EC4\u4EF6\u5B9E\u4F8B\n    const instance = {\n        data: null,\n        vnode,\n        subTree: null,\n        isMounted: false,\n        update: () => {\n        },\n        propsOptions: vnode.type.props, // \u7EC4\u4EF6\u5185\u90E8\u58F0\u660E\u63A5\u6536\u7684\u5C5E\u6027\n        props: {},    // \u7528\u6237\u4F20\u7684\u865A\u62DF\u8282\u70B9\u4E0A\u7684\u5C5E\u6027\n        attrs: {},    // \u7528\u6237\u4F20\u4E86\u4F46\u662F\u7EC4\u4EF6\u5185\u90E8\u6CA1\u6709\u58F0\u660E\u7684\u5C5E\u6027\n        proxy: null,\n        render: null,\n    }\n\n    return instance;\n}\n\n// \u7EC4\u4EF6\u5B9E\u4F8B\u7684\u4E00\u4E9B\u516C\u5171\u5C5E\u6027\nconst publicPropertyMap: any = {\n    $attrs: (instance: any) => instance.attrs\n}\n\nconst publicProxyInstance = {\n    get(target: any, key: any) {\n        const {data, props} = target;\n        // this.xxx \u9996\u5148\u4ECEdata\u4E2D\u53D6\n        if (data && hasOwn(data, key)) {\n            return data[key];\n        }\n        // \u5176\u6B21\u4ECEprops\u4E2D\u53D6\n        if (props && hasOwn(props, key)) {\n            return (props as any)[key];\n        }\n        // \u6700\u540E\u4ECEinstance\u53D6\n        let getter = publicPropertyMap[key];\n        if (getter) {\n            return getter(target);\n        } else {\n            getter = publicPropertyMap[\"$attrs\"];\n            return getter(target)[key];\n        }\n    },\n    // @ts-ignore\n    set(target, key, value) {\n        const {data, props} = target;\n        // this.xxx = xxx \u9996\u5148\u7ED9data\u4E2D\u8D4B\u503C\n        if (data && hasOwn(data, key)) {\n            data[key] = value;\n            return true;\n        }\n        // \u5982\u679C\u662F\u60F3\u7ED9props\u8D4B\u503C\uFF0C\u5219\u7ED9\u51FA\u8B66\u544A\u4FE1\u606F\n        if (props && hasOwn(props, key)) {\n            console.warn(\"attempting to mutate prop\" + (key as string));\n            return false;\n        }\n        return true;\n    }\n}\n\nexport function setupComponent(instance: any) {\n    // \u521D\u59CB\u5316\u5C5E\u6027\n    // vnode.props\u662F\u5728createVnode\u4E2D\u8D4B\u503C\u7684\uFF0CcreateVnode\u662F\u5728h\u51FD\u6570\u4E2D\u8C03\u7528\u7684.\n    const {props, type} = instance.vnode;\n    initProps(instance, props);\n\n    // \u521D\u59CB\u5316\u4EE3\u7406\u5BF9\u8C61(\u4EE3\u7406 data\u3001props\u3001attrs \u7B49)\n    // instance.proxy \u5C31\u662F\u7EC4\u4EF6\u4E2D\u7684this\uFF0C\u5F53\u6211\u4EEC\u4F7F\u7528 this.$attrs \u65F6\uFF0C\n    // \u5C31\u4F1A\u8D70 instance.proxy \u7684get\u65B9\u6CD5,\u6B64\u65F6key\u5C31\u662F$attrs\n    instance.proxy = new Proxy(instance, publicProxyInstance);\n\n    // \u521D\u59CB\u5316data\n    let data = type.data;\n    if (data) {\n        if (!isFunction(data)) {\n            console.warn(\"data options must be a function!\");\n            return;\n        }\n        // instance.data \u662F\u54CD\u5E94\u5F0F\n        instance.data = reactive(data.call(instance.proxy));\n    }\n\n    // \u521D\u59CB\u5316render\n    instance.render = type.render;\n}\n", "/**\n * @param renderOptions \u4E0D\u540C\u7684\u5E73\u53F0\u7684 renderOptions \u7684\u5B9E\u73B0\u4E0D\u4E00\u6837\uFF0C\n * \u4F46\u662F\u5177\u4F53\u6709\u4EC0\u4E48\u884C\u4E3A\u90FD\u5728 runtime-dom \u91CC\u89C4\u5B9A\u597D\u4E86\n */\nimport {isNumber, isString, ShapeFlags} from \"@vue/shared\";\nimport {createVnode, Fragment, isSameVnode, Text} from \"./vnode\";\nimport {getSequence} from \"./sequence\";\nimport {ReactiveEffect} from \"@vue/reactivity\";\nimport {queueJob} from \"./scheduler\";\nimport {createComponentInstance, setupComponent} from \"./component\";\nimport {hasPropsChange, updateProps} from \"./componentProps\";\n\nexport function createRenderer(renderOptions: any) {\n    let {\n        insert: hostInsert,\n        remove: hostRemove,\n        setElementText: hostSetElementText,\n        setText: hostSetText,\n        parentNode: hostParentNode,\n        nextSibling: hostNextSibling,\n        createElement: hostCreateElement,\n        createText: hostCreateText,\n        patchProp: hostPatchProp\n    } = renderOptions;\n\n    const normalize = (children: any, i: number) => {\n        if (isString(children[i]) || isNumber(children[i])) {\n            children[i] = createVnode(Text, null, children[i]);\n        }\n        return children[i];\n    }\n\n    // \u6E32\u67D3children\u5230\u5BB9\u5668\n    const mountChildren = (children: Array<any>, container: HTMLElement) => {\n        for (let i = 0; i < children.length; i++) {\n            // children[i] \u6709\u53EF\u80FD\u662F\u4E2A\u5B57\u7B26\u4E32\uFF0C\u6B64\u65F6\u9700\u8981 normalize \u4E00\u4E0B\uFF0Ceg:\n            let child = normalize(children, i);\n            patch(null, child, container);\n        }\n    }\n\n    /**\n     * \u6E32\u67D3\u771F\u5B9EDOM\u5143\u7D20\u5230\u5BB9\u5668\n     * @param vnode\n     * @param container\n     */\n    const mountElement = (vnode: any, container: any, anchor: any) => {\n        let {type, props, children, shapeFlag} = vnode;\n        // \u5C06\u771F\u5B9EDOM\u5143\u7D20\u6302\u8F7D\u5230\u865A\u62DF\u8282\u70B9\uFF0C\u540E\u7EED\u7528\u4E8E\u590D\u7528\u8282\u70B9\u548C\u66F4\u65B0\n        let el = vnode.el = hostCreateElement(type);\n        // \u66F4\u65B0\u5C5E\u6027\n        if (props) {\n            for (let key in props) {\n                hostPatchProp(el, key, null, props[key]);\n            }\n        }\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            hostSetElementText(el, children);\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            mountChildren(children, el);\n        }\n        // \u5C06\u771F\u5B9EDOM\u6DFB\u52A0\u5230\u5BB9\u5668\n        hostInsert(el, container, anchor);\n    }\n\n    const processText = (n1: any, n2: any, container: any) => {\n        if (n1 == null) {\n            let el = n2.el = hostCreateText(n2.children);\n            hostInsert(el, container);\n        } else {\n            // \u6587\u672C\u5185\u5BB9\u53D8\u5316\uFF0C\u590D\u7528\u8001\u7684\u8282\u70B9\n            const el = n2.el = n1.el;\n            if (n1.children !== n2.children) {\n                hostSetText(el, n2.children);\n            }\n        }\n    }\n\n    const processFragment = (n1: any, n2: any, container: any) => {\n        if (n1 == null) {\n            mountChildren(n2.children, container);\n        } else {\n            patchChildren(n1, n2, container);\n        }\n    }\n\n    // \u6BD4\u8F832\u4E2A\u865A\u62DF\u8282\u70B9\u7684\u5C5E\u6027\n    const patchProps = (oldProps: any, newProps: any, el: any) => {\n        for (let key in newProps) {\n            hostPatchProp(el, key, oldProps[key], newProps[key]);\n        }\n        // \u65E7\u7684\u6709\u65B0\u7684\u6CA1\u6709\u7684\u5C5E\u6027\uFF0C\u76F4\u63A5\u79FB\u9664.\n        for (let key in oldProps) {\n            if (newProps[key] == null) {\n                hostPatchProp(el, key, oldProps[key], null);\n            }\n        }\n    }\n\n    const patchKeyedChildren = (c1: any, c2: any, el: any) => {\n        let i = 0;\n        let e1 = c1.length - 1;\n        let e2 = c2.length - 1;\n        // -----------------------diff\u7B97\u6CD5\u4F18\u5316\u90E8\u5206(\u5373\u7B26\u5408\u4E00\u5B9A\u89C4\u5F8B\u7684\u60C5\u51B5\u5FEB\u901F\u5904\u7406)-----------------------\n        // sync from start: \u4ECE\u5934\u5F00\u59CB\u6BD4\u8F83\uFF0C\u957F\u5F97\u4E00\u6837\u7684\u5C31\u7565\u8FC7\uFF0C\u53EA\u6BD4\u8F83\u90A3\u4E9B\u4E0D\u4E00\u6837\u7684\u3002\n        while (i <= e1 && i <= e2) {\n            let n1 = c1[i];\n            let n2 = c2[i];\n            if (isSameVnode(n1, n2)) {\n                patch(n1, n2, el);\n            } else {\n                break;\n            }\n            i++;\n        }\n\n        // sync from end: \u4ECE\u5934\u672B\u5C3E\u5F00\u59CB\u6BD4\u8F83\uFF0C\u957F\u5F97\u4E00\u6837\u7684\u5C31\u7565\u8FC7\uFF0C\u53EA\u6BD4\u8F83\u90A3\u4E9B\u4E0D\u4E00\u6837\u7684\u3002\n        while (i <= e1 && i <= e2) {\n            let n1 = c1[e1];\n            let n2 = c2[e2];\n            if (isSameVnode(n1, n2)) {\n                patch(n1, n2, el);\n            } else {\n                break;\n            }\n            e1--;\n            e2--;\n        }\n\n        if (i > e1) {\n            // common sequence + mount i \u6BD4 e1 \u5927\u8BF4\u660E\u6709\u65B0\u589E\u7684\uFF0Ci \u548C e2 \u4E4B\u95F4\u7684\u90E8\u95E8\u5C31\u662F\u9700\u8981\u65B0\u589E\u7684\u90E8\u5206\u3002\n            if (i <= e2) {\n                while (i <= e2) {\n                    let nextPos = e2 + 1;  // e2\u540E\u9762\u6709\u5143\u7D20\u8868\u793A\u5F80\u524D\u63D2(insertBefore),\u6CA1\u6709\u5143\u7D20\u5219\u8868\u793A\u5F80\u540E\u63D2(appendChild)\n                    let anchor = nextPos < c2.length ? c2[nextPos].el : null;\n                    patch(null, c2[i], el, anchor); // \u521B\u5EFA\u65B0\u8282\u70B9\u6254\u5230\u5BB9\u5668\u4E2D\n                    i++;\n                }\n            }\n        } else if (i > e2) {\n            // common sequence + unmount: \u540C\u5E8F\u5217\u5378\u8F7D\uFF1Ai \u6BD4 e2 \u5927\u8BF4\u660E\u6709\u5378\u8F7D\u7684\uFF0Ci \u548C e1 \u4E4B\u95F4\u7684\u90E8\u95E8\u5C31\u662F\u9700\u8981\u5378\u8F7D\u7684\u90E8\u5206\u3002\n            if (i <= e1) {\n                while (i <= e1) {\n                    unmount(c1[i]);  // \u5378\u8F7D\u5143\u7D20\n                    i++;\n                }\n            }\n        }\n        // console.log(i, e1, e2);\n        // -----------------------------------diff\u7B97\u6CD5\u5B9E\u73B0\u4E71\u5E8F\u6BD4\u5BF9------------------------------------\n        // unknown sequence\n        const s1 = i;\n        const s2 = i;\n        // keyToNewIndexMap\u91CC\u5B58\u50A8\u7684\u662F\u65B0children\u7684key\u548C\u7D22\u5F15\u7684\u6620\u5C04\u5173\u7CFB: {key1: index1, key2: index2}\n        const keyToNewIndexMap = new Map();\n        // \u5373\u5C06\u8FDB\u884C\u6BD4\u5BF9\u7684\u65B0\u8282\u70B9\u7684\u4E2A\u6570\n        const toBePatched = e2 - s2 + 1;\n        // \u4E00\u4E2A\u8BB0\u5F55\u662F\u5426\u5DF2\u7ECF\u6BD4\u5BF9\u8FC7\u7684\u6620\u5C04\u8868\n        const newIndexToOldIndexMap = new Array(toBePatched).fill(0);\n        for (let i = s2; i <= e2; i++) {\n            keyToNewIndexMap.set(c2[i].key, i);\n        }\n        // console.log(keyToNewIndexMap);\n        // \u5FAA\u73AF\u8001children\uFF0C\u770B\u4E00\u4E0B\u65B0\u7684\u91CC\u8FB9\u6709\u6CA1\u6709\uFF1F\n        // \u5982\u679C\u6709\u5219\u590D\u7528\u5E76\u5BF9\u6BD4\u5DEE\u5F02\uFF0C\u5982\u679C\u8001\u7684\u6709\u65B0\u7684\u6CA1\u6709\u5219\u5220\u9664\uFF0C\u5982\u679C\u8001\u7684\u6CA1\u6709\u65B0\u7684\u6709\u5219\u6DFB\u52A0\u3002\n        for (let i = s1; i <= e1; i++) {\n            const oldChild = c1[i];\n            const newIndex = keyToNewIndexMap.get(oldChild.key);\n            if (newIndex === undefined) {\n                unmount(oldChild);\n            } else {\n                // \u7531\u4E8E\u6570\u7EC4\u4E2D\u7684\u5143\u7D20\u9ED8\u8BA4\u662F0\uFF0C\u800Ci\u4E5F\u53EF\u80FD\u662F0\uFF0C\u4E3A\u4E86\u4EE5\u793A\u533A\u5206\uFF0C\u6545\u8FD9\u91CC\u6545\u610F+1\u3002\n                // \u5176\u5B9E\u6570\u7EC4\u5143\u7D20\u7684\u5177\u4F53\u503C\u4E0D\u91CD\u8981\uFF0C\u540E\u9762\u4E5F\u4E0D\u4F1A\u4F7F\u7528\uFF0C\u4EC5\u4EC5\u7528\u4E8E\u533A\u52060\u6216\u975E0,\n                // 0\u8868\u793A\u6CA1\u6709\u6BD4\u5BF9\u8FC7\uFF0C\u975E0\u8868\u793A\u5BF9\u6BD4\u8FC7\u3002\n                newIndexToOldIndexMap[newIndex - s2] = i + 1;\n                patch(oldChild, c2[newIndex], el);\n            }\n        }\n\n        // console.log(\"newIndexToOldIndexMap: \", newIndexToOldIndexMap);  // [5, 3, 4, 0]  e,c,d,h\n        //\u83B7\u53D6\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\uFF0C\u5176\u7ED3\u679C\u4E3A\u539F\u6570\u7EC4\u4E2D\u7684\u5143\u7D20\u7684\u7D22\u5F15\u7EC4\u6210\u7684\u6570\u7EC4.\n        let increment = getSequence(newIndexToOldIndexMap); // increment:[1, 2] -> [3,4] -> c,d \u4E0D\u7528\u52A8\n        let j = increment.length - 1;\n\n        // \u9700\u8981\u79FB\u52A8\u4F4D\u7F6E\uFF08\u5012\u5E8F\u904D\u5386\uFF0C\u56E0\u4E3A\u53EF\u80FD\u9700\u8981\u4F7F\u7528insertBefore\uFF09\n        for (let i = toBePatched - 1; i >= 0; i--) {\n            let index = i + s2;  // c2\u7684\u7D22\u5F15\n            let current = c2[index]; // c2\u4E2D\u6700\u540E\u4E00\u4E2A\u9700\u8981\u6BD4\u5BF9\u7684\u8282\u70B9\n            let anchor = index + 1 < c2.length ? c2[index + 1].el : null;\n            if (newIndexToOldIndexMap[i] === 0) {\n                // \u5F53\u524D\u8282\u70B9\u6CA1\u6709\u6BD4\u5BF9\u8FC7\uFF0C\u9700\u8981\u521B\u5EFA\n                patch(null, current, el, anchor);\n            } else {\n                if (i !== increment[j]) {\n                    // \u5F53\u524D\u8282\u70B9\u5728\u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u4E0D\u5B58\u5728\uFF0C\u5E76\u4E14\u8282\u70B9\u6BD4\u5BF9\u8FC7\uFF0C\u6267\u884C\u63D2\u5165\u64CD\u4F5C\u5373\u53EF\n                    hostInsert(current.el, el, anchor);\n                } else {\n                    // \u5F53\u524D\u8282\u70B9\u5728\u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u5B58\u5728\uFF0C\u5E76\u4E14\u4E5F\u6BD4\u5BF9\u8FC7\uFF0C\u76F4\u63A5\u8DF3\u8FC7.\n                    j--;\n                }\n            }\n        }\n    }\n\n    // \u6BD4\u8F832\u4E2A\u865A\u62DF\u8282\u70B9\u7684children\n    // | **\u65B0\u513F\u5B50** | **\u65E7\u513F\u5B50** | **\u64CD\u4F5C\u65B9\u5F0F**             |\n    // | ---------- | ---------- | ------------------------ |\n    //     | \u6587\u672C       | \u6570\u7EC4       | \u5220\u9664\u8001\u513F\u5B50\uFF0C\u8BBE\u7F6E\u6587\u672C\u5185\u5BB9 |\n    //     | \u6587\u672C       | \u6587\u672C       | \u66F4\u65B0\u6587\u672C\u5373\u53EF             |\n    //     | \u6587\u672C       | \u7A7A         | \u66F4\u65B0\u6587\u672C\u5373\u53EF(\u4E0E\u4E0A\u9762\u7C7B\u4F3C) |\n    //     | \u6570\u7EC4       | \u6570\u7EC4       | diff\u7B97\u6CD5                 |\n    //     | \u6570\u7EC4       | \u6587\u672C       | \u6E05\u7A7A\u6587\u672C\uFF0C\u8FDB\u884C\u6302\u8F7D       |\n    //     | \u6570\u7EC4       | \u7A7A         | \u8FDB\u884C\u6302\u8F7D(\u4E0E\u4E0A\u9762\u7C7B\u4F3C)     |\n    //     | \u7A7A         | \u6570\u7EC4       | \u5220\u9664\u6240\u6709\u513F\u5B50             |\n    //     | \u7A7A         | \u6587\u672C       | \u6E05\u7A7A\u6587\u672C                 |\n    //     | \u7A7A         | \u7A7A         | \u65E0\u9700\u5904\u7406                 |\n    const patchChildren = (n1: any, n2: any, el: any) => {\n        const c1 = n1.children;\n        const c2 = n2.children;\n        const prevShapeFlag = n1.shapeFlag;\n        const shapeFlag = n2.shapeFlag;\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            // \u65B0\u7684\u662F\u6587\u672C\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                // \u8001\u7684\u662F\u6570\u7EC4\uFF0C\u5220\u9664\u8001\u7684\u513F\u5B50\n                unmountChildren(c1);\n            }\n            // \u8001\u7684\u662F\u6587\u672C\u6216\u7A7A\u90FD\u8981\u66F4\u65B0\u6587\u672C\n            if (c1 !== c2) {\n                hostSetElementText(el, c2);\n            }\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            // \u65B0\u7684\u662F\u6570\u7EC4\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                // \u8001\u7684\u662F\u6570\u7EC4\uFF0Cdiff \u7B97\u6CD5\n                patchKeyedChildren(c1, c2, el);  // \u5168\u91CF\u5BF9\u6BD4\n            } else {\n                // \u8001\u7684\u4E0D\u7BA1\u662F\u6587\u672C\u8FD8\u662F\u7A7A\uFF0C\u90FD\u53EF\u4EE5\u8D70\u4E0B\u9762\u6D41\u7A0B\n                hostSetElementText(el, \"\");\n                mountChildren(c2, el);\n            }\n        } else {\n            // \u65B0\u7684\u662F\u7A7A\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                // \u8001\u7684\u662F\u6570\u7EC4\uFF0C\u5220\u9664\u8001\u513F\u5B50\n                unmountChildren(c1);\n            } else {\n                // \u8001\u7684\u4E0D\u7BA1\u662F\u6587\u672C\u8FD8\u662F\u7A7A\u90FD\u53EF\u4EE5\u8D70\u4E0B\u9762\u6D41\u7A0B\n                if (c1 !== c2) {\n                    hostSetElementText(el, c2);\n                }\n            }\n        }\n    };\n\n    // \u66F4\u65B0\u5143\u7D20(\u5148\u590D\u7528\u8282\u70B9\uFF0C\u518D\u6BD4\u8F83\u5C5E\u6027\uFF0C\u518D\u6BD4\u8F83children)\n    const patchElement = (n1: any, n2: any, container: any) => {\n        // \u590D\u7528\u8282\u70B9\n        let el = n2.el = n1.el;\n        // \u6BD4\u8F83\u5C5E\u6027\n        let oldProps = n1.props || {};\n        let newProps = n2.props || {};\n        patchProps(oldProps, newProps, el);\n        // \u6BD4\u8F83children\n        patchChildren(n1, n2, el);\n    };\n\n    const processElement = (n1: any, n2: any, container: any, anchor: any) => {\n        if (n1 == null) {\n            // \u521D\u6B21\u6E32\u67D3\n            mountElement(n2, container, anchor);\n        } else {\n            // \u66F4\u65B0\u6D41\u7A0B\n            patchElement(n1, n2, container);\n        }\n    };\n\n\n    const mountComponent = (vnode: any, container: any, anchor: any) => {\n        // \u521B\u5EFA\u7EC4\u4EF6\u5B9E\u4F8B\n        let instance = vnode.component = createComponentInstance(vnode);\n\n        // \u7ED9\u7EC4\u4EF6\u5B9E\u4F8B\u8D4B\u503C\n        setupComponent(instance);\n\n        // \u521B\u5EFA\u4E00\u4E2Aeffect\n        setupRenderEffect(instance, container, anchor);\n    }\n\n    const setupRenderEffect = (instance: any, container: any, anchor: any) => {\n        const {render} = instance;\n        // \u7EC4\u4EF6\u66F4\u65B0\u51FD\u6570\n        const componentUpdateFn = () => {\n            if (!instance.isMounted) {\n                // subTree \u5373\u7EC4\u4EF6\u7684 render()\u8FD4\u56DE\u7684\u865A\u62DFDOM\n                const subTree = render.call(instance.proxy);\n                // \u6302\u8F7D\u865A\u62DFDOM\n                patch(null, subTree, container, anchor);\n                instance.subTree = subTree;\n                instance.isMounted = true;\n            } else {\n                const {next} = instance;\n                if (next) {\n                    updateComponentPreRender(instance, next);\n                }\n                const subTree = render.call(instance.proxy);\n                patch(instance.subTree, subTree, container, anchor);\n                instance.subTree = subTree;\n            }\n        }\n\n        // effect scheduler + queueJob\u5B9E\u73B0\u7EC4\u4EF6\u7684\u66F4\u65B0\n        const effect = new ReactiveEffect(componentUpdateFn, () => queueJob(instance.update));\n\n        // \u5C06\u7EC4\u4EF6\u5F3A\u5236\u66F4\u65B0\u7684\u903B\u8F91\u4FDD\u5B58\u5230\u7EC4\u4EF6\u5B9E\u4F8B\u4E0A\uFF0C\u540E\u7EED\u53EF\u4EE5\u4F7F\u7528\n        instance.update = effect.run.bind(effect);\n        instance.update();\n    };\n\n    const updateComponentPreRender = (instance: any, next: any) => {\n        instance.next = null;\n        instance.vnode = next; // \u5B9E\u4F8B\u4E0A\u6700\u65B0\u7684\u865A\u62DF\u8282\u70B9\n        updateProps(instance.props, next.props);\n    };\n\n    const shouldUpdateComponent = (n1: any, n2: any) => {\n        const {props: prevProps, children: prevChildren} = n1;\n        const {props: nextProps, children: nextChildren} = n2;\n        if (prevProps === nextProps) {\n            return false;\n        }\n        // \u7EC4\u4EF6\u53EA\u8981\u6709\u63D2\u69FD\uFF0C\u5E76\u4E14\u8D70\u5230\u4E86updateComponent\u65B9\u6CD5\uFF0C\u4E0D\u7BA1\u5C5E\u6027\u6709\u65E0\u53D8\u5316\uFF0C\u5FC5\u987B\u5F3A\u5236\u66F4\u65B0\u3002\n        if (prevChildren || nextChildren) {\n            return true;\n        }\n        return hasPropsChange(prevProps, nextProps);\n    };\n\n    const updateComponent = (n1: any, n2: any) => {\n        // instance.props\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u800C\u4E14\u53EF\u4EE5\u66F4\u6539\uFF0C\u5C5E\u6027\u7684\u66F4\u65B0\u4F1A\u5BFC\u81F4\u9875\u9762\u91CD\u65B0\u6E32\u67D3.\n        // \u666E\u901A\u5143\u7D20\u662F\u590D\u7528\u7684\u662FDOM\u8282\u70B9\uFF0C\u7EC4\u4EF6\u662F\u590D\u7528\u7EC4\u4EF6\u5B9E\u4F8B\n        let instance = (n2.component = n1.component);\n\n        // \u9700\u8981\u66F4\u65B0\u5C31\u5F3A\u5236\u8C03\u7528\u7EC4\u4EF6\u7684update\u65B9\u6CD5\n        if (shouldUpdateComponent(n1, n2)) {\n            instance.next = n2;  // \u5C06\u65B0\u7684\u865A\u62DF\u8282\u70B9\u653E\u5230next\u5C5E\u6027\u4E0A\n            instance.update();   // \u7EDF\u4E00\u8C03\u7528update\u65B9\u6CD5\u66F4\u65B0\n        }\n    }\n\n    const processComponent = (n1: any, n2: any, container: any, anchor: any) => {\n        if (n1 == null) {\n            mountComponent(n2, container, anchor)\n        } else {\n            updateComponent(n1, n2);\n        }\n    };\n\n    /**\n     * \u66F4\u65B0\u771F\u5B9EDOM\u7684\u65B9\u6CD5\n     * @param n1 \u4E0A\u4E00\u6B21\u7684\u865A\u62DF\u8282\u70B9\n     * @param n2 \u672C\u6B21\u7684\u865A\u62DF\u8282\u70B9\n     * @param container \u5BB9\u5668\n     */\n    const patch = (n1: any, n2: any, container: any, anchor: any = null) => {\n        if (n1 === n2) {\n            return;\n        }\n        // n1\u5B58\u5728\u7684\u60C5\u51B5\u4E0B\uFF0C\u5224\u65AD2\u4E2A\u5143\u7D20\u662F\u5426\u76F8\u540C\uFF0C\u4E0D\u76F8\u540C\u5219\u5378\u8F7D\u8001\u7684\uFF0C\u521B\u5EFA\u65B0\u7684\u3002\n        if (n1 && !isSameVnode(n1, n2)) {\n            unmount(n1);\n            n1 = null;\n        }\n        const {type, shapeFlag} = n2;\n        switch (type) {\n            case Text:\n                processText(n1, n2, container);\n                break;\n            case Fragment:\n                processFragment(n1, n2, container);\n                break;\n            default:\n                if (shapeFlag & ShapeFlags.ELEMENT) {\n                    processElement(n1, n2, container, anchor);   // \u5143\u7D20\n                } else if (shapeFlag & ShapeFlags.COMPONENT) {\n                    processComponent(n1, n2, container, anchor); // \u7EC4\u4EF6\n                }\n        }\n    }\n\n    const unmount = (vnode: any) => {\n        hostRemove(vnode.el);\n    }\n\n    const unmountChildren = (children: any) => {\n        for (let i = 0; i < children.length; i++) {\n            unmount(children[i]);\n        }\n    }\n\n    const render = (vnode: any, container: any) => {\n        if (vnode == null) {\n            // \u5378\u8F7D\u903B\u8F91\n            if (container._vnode) {\n                unmount(container._vnode);\n            }\n        } else {\n            // patch \u65E2\u5305\u542B\u521D\u59CB\u5316\u903B\u8F91\u53C8\u5305\u542B\u66F4\u65B0\u903B\u8F91\n            patch(container._vnode || null, vnode, container);\n        }\n        container._vnode = vnode;\n    }\n\n    return {\n        render\n    }\n}\n", "import {createVnode, isVnode} from \"./vnode\";\nimport {isArray, isObject} from \"@vue/shared\";\n\n// h\u7684\u7528\u6CD5\u6709\u5F88\u591A\u79CD:\n// h(\"div\")\n\n// h(\"div\", {style: {color: \"red\"}})\n// h(\"div\", h(\"span\"))\n// h(\"div\", [h(\"span\"), h(\"span\")])\n// h(\"div\", \"hello\")\n\n// h(\"div\", {style:{color: \"red\"}}, \"hello\")\n// h(\"div\", null, h(\"span\"))\n// h(\"div\", null, [h(\"span\")])\n\n// h(\"div\", null, \"hello\", \"world\")\n// h(\"div\", null, h(\"span\"), h(\"span\"))\n\nexport function h(type: any, propsChildren: any, children: any) {\n    const len = arguments.length;\n    // h(\"div\")\n    if (len < 2) {\n        return createVnode(type, null);\n    } else if (len === 2) {\n        // h(\"div\", {style: {color: \"red\"}})\n        // h(\"div\", h(\"span\"))\n        // h(\"div\", [h(\"span\"), h(\"span\")])\n        // h(\"div\", \"hello\")\n        // h(Text, \"hello\")\n        if (isArray(propsChildren)) {\n            return createVnode(type, null, propsChildren);\n        } else {\n            if (isVnode(propsChildren)) {\n                return createVnode(type, null, [propsChildren]);\n            } else if (isObject(propsChildren)) {\n                return createVnode(type, propsChildren);\n            } else {\n                return createVnode(type, null, propsChildren);\n            }\n        }\n    } else if (len === 3) {\n        // h(\"div\", {style:{color: \"red\"}}, \"hello\")\n        // h(\"div\", null, h(\"span\"))\n        // h(\"div\", null, [h(\"span\")])\n        if (isVnode(children)) {\n            return createVnode(type, propsChildren, [children]);\n        } else {\n            return createVnode(type, propsChildren, children);\n        }\n    } else if (len > 3) {\n        // h(\"div\", null, \"hello\", \"world\")\n        // h(\"div\", null, h(\"span\"), h(\"span\"))\n        children = Array.from(arguments).slice(2);\n        return createVnode(type, propsChildren, children);\n    }\n}\n"],
  "mappings": "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",
  "names": []
}
